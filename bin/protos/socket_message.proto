syntax = "proto3";
package palace;

message SocketMessage {

    enum Type {
        // To client
        ERROR = 0;
        LOGIN_SUCCESSFUL = 1;
        FRIEND_REQUEST = 2;
        MATCH_INVITE = 3;
        MATCH_INVITE_CANCEL = 4;
        MATCH_START = 5;
        FIRST_DEAL_TOWER_INFO = 6;
        SECOND_DEAL_TOWER_INFO = 7;
        FINAL_DEAL_INFO = 8;
        TOWER_CARD_IDS_TO_HAND = 9;
        SET_SELECTABLE_CARDS = 10;
        SET_MULLIGANABLE_CARDS = 11;
        CLEAR_SELECTABLE_CARDS = 12;
        DRAW_INFO = 13;
        PLAY_FROM_HAND_INFO = 14;
        PICK_UP_PILE_INFO = 15;
        DISCARD_INFO = 16;
        REQUEST_HANDSWAP_CHOICE = 17;
        REQUEST_TOPSWAP_CHOICE = 18;
        REQUEST_HIGHERLOWER_CHOICE = 19;
        ACTIVE_PLAYER_INDEX = 20;
        FRIEND_ITEM_INFO = 21;
        LOBBY_INFO = 22;
        LOGOUT_SUCCESSFUL = 23;
        CHANGE_DISCARD_TO_ROCK = 24;
        MULLIGAN_TIMER_UPDATE = 25;

        // to server
        LOGIN = 26;
        REGISTER = 27;
        ADD_FRIEND = 28;
        ACCEPT_FRIEND_REQUEST = 29;
        SEND_MATCH_INVITE = 30;
        MATCH_ACCEPT = 31;
        MATCH_DECLINE = 32;
        USER_PLAY = 33;
        HANDSWAP_CHOICE = 34;
        TOPSWAP_CHOICE = 35;
        HIGHERLOWER_CHOICE = 36;
        DECLINE_FRIEND_REQUEST = 37;
        START = 38;
        REQUEST_PICK_UP = 39;
        QUICK_JOIN = 40;
        LEAVE_GAME = 41;
    }

    Type type = 1;
    string json = 2;
}

message ActivePlayerIndex {
    int32 index = 1;
}

message FriendItemInfo {
    string userID = 1;
    bool online = 2;
    bool invitable = 3;
    string statusText = 4;
    string color = 5;
}

message RequestHigherLowerChoiceInfo {
    int32 value = 1;
}